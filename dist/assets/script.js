const canvas=document.getElementById("drawingCanvas"),ctx=canvas.getContext("2d");let painting=!1,currentColor="black",isEraserActive=!1;function startPosition(e){painting=!0,draw(e)}function endPosition(){painting=!1,ctx.beginPath()}function draw(e){painting&&(ctx.lineWidth=isEraserActive?10:2,ctx.lineCap="round",ctx.strokeStyle=isEraserActive?"white":currentColor,e.offsetX||(e.touches[0].clientX,canvas.offsetLeft),e.offsetY||(e.touches[0].clientY,canvas.offsetTop),ctx.lineTo(e.offsetX,e.offsetY),ctx.stroke(),ctx.beginPath(),ctx.moveTo(e.offsetX,e.offsetY))}document.getElementById("black").addEventListener("click",(()=>{isEraserActive=!1,currentColor="black"})),document.getElementById("red").addEventListener("click",(()=>{currentColor="red"})),document.getElementById("blue").addEventListener("click",(()=>{currentColor="blue"})),document.getElementById("yellow").addEventListener("click",(()=>{currentColor="yellow"})),document.getElementById("eraser").addEventListener("click",(()=>{isEraserActive=!0,currentColor="white"})),document.getElementById("save").addEventListener("click",(()=>{const e=canvas.toDataURL("image/png"),t=document.createElement("a");t.href=e,t.download="drawing.png",t.click()})),document.getElementById("export").addEventListener("click",(()=>{alert("Export 기능 준비 중입니다!")})),canvas.addEventListener("mousedown",startPosition),canvas.addEventListener("mouseup",endPosition),canvas.addEventListener("mousemove",draw),canvas.addEventListener("touchstart",startPosition),canvas.addEventListener("touchend",endPosition),canvas.addEventListener("touchmove",draw);
